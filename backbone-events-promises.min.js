/*!
 * backbone-events-promises.js 0.1.1
 * (c) 2014 Shoptology
 * backbone-events-promises.js may be freely distributed under the MIT license.
 */
!function(a){var b=function(b){a.Events.promises=function(c,d,e){var f;if(void 0===c&&(c=!0),e=e||{},e=_.extend({method:"trigger"},e),f=e.method,d||(d=a.Events),!c){if(!d._promises)return;if(!d._promises.original)return;return f=d._promises.method,d[f]=d._promises.original,delete d._promises,d}if(c){if(d._promises)return;d._promises=_.extend(e,{original:d[f]}),d[f]=b}}},c=[],d=(c.push,c.slice),e=(c.splice,/\s+/),f=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var f in c)a[b].apply(a,[f,c[f]].concat(d));return!1}if(e.test(c)){for(var g=c.split(e),h=0,i=g.length;i>h;h++)a[b].apply(a,[g[h]].concat(d));return!1}return!0},g=function(a){if(!this._events)return $.when();var b=d.call(arguments,1);if(!f(this,"trigger",a,b))return $.when();var c=this._events[a],e=this._events.all;return c?h(c,b):e?h(e,arguments):$.when()},h=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2],i=[];switch(b.length){case 0:for(;++d<e;)i.push((c=a[d]).callback.call(c.ctx));break;case 1:for(;++d<e;)i.push((c=a[d]).callback.call(c.ctx,f));break;case 2:for(;++d<e;)i.push((c=a[d]).callback.call(c.ctx,f,g));break;case 3:for(;++d<e;)i.push((c=a[d]).callback.call(c.ctx,f,g,h));break;default:for(;++d<e;)i.push((c=a[d]).callback.apply(c.ctx,b))}return $.when.apply($,i)};b(g,h)}(Backbone);
//# sourceMappingURL=backbone-events-promises.min.map